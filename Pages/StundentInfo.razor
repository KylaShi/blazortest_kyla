@page "/StudentInfo"
@using BlazorTest
@using MudBlazor
@using BlazorTest.Data
@inject StudentListViewModel studentListViewModel

<h3>Student Form</h3>

<EditForm Model="@student" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-group">
        <label for="id">ID</label>
        <InputNumber id="id" class="form-control" @bind-Value="student.Id" />
    </div>

    <div class="form-group">
        <label for="firstName">First Name</label>
        <InputText id="firstName" class="form-control" @bind-Value="student.FirstName" />
    </div>

    <div class="form-group">
        <label for="lastName">Last Name</label>
        <InputText id="lastName" class="form-control" @bind-Value="student.LastName" />
    </div>

    <div class="form-group">
        <label for="course">Course</label>
        <InputText id="course" class="form-control" @bind-Value="student.Course" />
    </div>

    <div class="form-group row">
        <div class="col-sm-10">
            <label for="yearLevel">Year Level</label>
            <InputNumber id="yearLevel" class="form-control" @bind-Value="student.YearLevel" />
        </div>
    </div>

    <button<MudButton Variant="Variant.Filled" Color="Color.Primary">Submit</MudButton></button>


</EditForm>

@if (submitted)
{
    <h4>Form Submitted Successfully!</h4>
}

@code {
    private Student student = new Student();
    private bool submitted = false;

    private void HandleValidSubmit()
    {
        Student student1 = student;
        studentListViewModel.Students.Add(student);
        submitted = true;
    }

   
}
